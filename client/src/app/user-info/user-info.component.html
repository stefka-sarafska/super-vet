<app-headers></app-headers>
<div class="container">
    <h4>Здравей, {{loggedUser.firstName}}!</h4>
</div>
<div class="container" *ngIf="loggedUser.role==='ADMIN'">
    <div *ngIf="dataSource.length>0 else noDoctors" class="container">
        <h6>Заявления от доктори:</h6>
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
            <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef> Name </th>
                <td mat-cell *matCellDef="let element"> {{element.name}} </td>
            </ng-container>
            <ng-container matColumnDef="address">
                <th mat-header-cell *matHeaderCellDef> Address </th>
                <td mat-cell *matCellDef="let element"> {{element.address}} </td>
            </ng-container>
            <ng-container matColumnDef="email">
                <th mat-header-cell *matHeaderCellDef> Email </th>
                <td mat-cell *matCellDef="let element"> {{element.email}} </td>
            </ng-container>
            <ng-container matColumnDef="phone">
                <th mat-header-cell *matHeaderCellDef> Phone </th>
                <td mat-cell *matCellDef="let element"> {{element.phone}} </td>
            </ng-container>
            <ng-container matColumnDef="specialty">
                <th mat-header-cell *matHeaderCellDef> Specialty </th>
                <td mat-cell *matCellDef="let element"> {{element.specialty}} </td>
            </ng-container>

            <ng-container matColumnDef="description">
                <th mat-header-cell *matHeaderCellDef> Description </th>
                <td mat-cell *matCellDef="let element"> {{element.description}} </td>
            </ng-container>
            <ng-container matColumnDef="biography">
                <th mat-header-cell *matHeaderCellDef> Biography </th>
                <td mat-cell *matCellDef="let element"> {{element.biography}} </td>
            </ng-container>
            <ng-container matColumnDef="qualifications">
                <th mat-header-cell *matHeaderCellDef> Qualifications </th>
                <td mat-cell *matCellDef="let element"> {{element.qualifications}} </td>
            </ng-container>
            <ng-container matColumnDef="formation">
                <th mat-header-cell *matHeaderCellDef> Formation </th>
                <td mat-cell *matCellDef="let element"> {{element.formation}} </td>
            </ng-container>
            <ng-container matColumnDef="action">
                <th mat-header-cell *matHeaderCellDef> Action </th>
                <td mat-cell *matCellDef="let element">
                    <button mat-stroked-button color="primary" (click)="addRequest(element)">Add</button>
                    <button mat-stroked-button color="warn" (click)="deleteRequest(element)">Delete</button>
                </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
    </div>
    <ng-template #noDoctors>
        <p>Няма нови формуляри на доктори!</p>
    </ng-template>
</div>
<div class="container" *ngIf="loggedUser.role==='USER'">
    <div *ngIf="dataSource.length>0; else noAppointments" class="container">
        <h6>Запазени часове:</h6>
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
            <ng-container matColumnDef="date">
                <th mat-header-cell *matHeaderCellDef> Дата </th>
                <td mat-cell *matCellDef="let element"> {{element.date}} </td>
            </ng-container>
            <ng-container matColumnDef="time">
                <th mat-header-cell *matHeaderCellDef> Час </th>
                <td mat-cell *matCellDef="let element"> {{element.time}} </td>
            </ng-container>
            <ng-container matColumnDef="reason">
                <th mat-header-cell *matHeaderCellDef> Причина </th>
                <td mat-cell *matCellDef="let element"> {{element.reason}} </td>
            </ng-container>
            <ng-container matColumnDef="address">
                <th mat-header-cell *matHeaderCellDef> Адрес </th>
                <td mat-cell *matCellDef="let element"> {{element.address}} </td>
            </ng-container>
            <ng-container matColumnDef="doctor">
                <th mat-header-cell *matHeaderCellDef> Доктор </th>
                <td mat-cell *matCellDef="let element"> {{element.doctor}} </td>
            </ng-container>

            <ng-container matColumnDef="phone">
                <th mat-header-cell *matHeaderCellDef> Контакти </th>
                <td mat-cell *matCellDef="let element"> {{element.phone}} </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
    </div>
    <ng-template #noAppointments>
        <h6>Няма налични запазени часове!</h6>
    </ng-template>
</div>
<div class="container" *ngIf="loggedUser.role==='DOCTOR'">
    <div *ngIf="dataSource.length>0; else noAppointments" class="container">
        <h6>Запазени часове:</h6>
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
            <ng-container matColumnDef="date">
                <th mat-header-cell *matHeaderCellDef> Дата </th>
                <td mat-cell *matCellDef="let element"> {{element.date}} </td>
            </ng-container>
            <ng-container matColumnDef="time">
                <th mat-header-cell *matHeaderCellDef> Час </th>
                <td mat-cell *matCellDef="let element"> {{element.time}} </td>
            </ng-container>
            <ng-container matColumnDef="reason">
                <th mat-header-cell *matHeaderCellDef> Причина </th>
                <td mat-cell *matCellDef="let element"> {{element.reason}} </td>
            </ng-container>
            <ng-container matColumnDef="patient">
                <th mat-header-cell *matHeaderCellDef> Собственик на пациента </th>
                <td mat-cell *matCellDef="let element"> {{element.patient}} </td>
            </ng-container>
            <ng-container matColumnDef="phone">
                <th mat-header-cell *matHeaderCellDef> Контакти </th>
                <td mat-cell *matCellDef="let element"> {{element.phone}} </td>
            </ng-container>
            <ng-container matColumnDef="email">
                <th mat-header-cell *matHeaderCellDef> Имейл </th>
                <td mat-cell *matCellDef="let element"> {{element.email}} </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
    </div>
    <ng-template #noAppointments>
        <h6>Няма налични запазени часове!</h6>
    </ng-template>
</div>